{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"John Doe","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"","slug":"test_07_学习曲线_交叉验证","date":"2018-08-21T07:23:00.569Z","updated":"2018-08-17T07:29:00.000Z","comments":true,"path":"2018/08/21/test_07_学习曲线_交叉验证/","link":"","permalink":"http://yoursite.com/2018/08/21/test_07_学习曲线_交叉验证/","excerpt":"","text":"12345from sklearn.model_selection import learning_curve #学习曲线模块from sklearn.datasets import load_digits #digits数据集from sklearn.svm import SVC #Support Vector Classifierimport matplotlib.pyplot as plt #可视化模块import numpy as np 1234# 手写数字，0-9，共1797样本，每个样本由64个特征组合（8*8），每个特征值用0-16表示digits = load_digits()X = digits.datay = digits.target 123456# cv=10 交叉验证集分成10个，采用均方差度量损失，#平均每一轮所得到的平均方差(共5轮，分别为样本10%、25%、50%、75%、100%)train_sizes, train_loss, test_loss = learning_curve( # SVM 中的参数，一个C 大间距，一个gammam, gamma 不是高斯半径 是 1/(2*sigma^2),都是越大越容易过拟合 SVC(gamma=0.0001), X, y, cv=10, scoring='neg_mean_squared_error', train_sizes=[0.1, 0.25, 0.5, 0.75, 1]) 123# axis=1 对行进行操作，由于上面的cv=10train_loss_mean = -np.mean(train_loss, axis=1)test_loss_mean = -np.mean(test_loss, axis=1) 12345678910# train_sizes 横坐标，train_loss_mean 纵坐标，形状‘o-’,红色plt.plot(train_sizes, train_loss_mean, 'o-', color=\"r\", label=\"Training\")plt.plot(train_sizes, test_loss_mean, 'o-', color=\"g\", label=\"Cross-validation\")plt.xlabel(\"Training examples\")plt.ylabel(\"Loss\")# 将图标签——图例放到最佳的位置plt.legend(loc=\"best\") &lt;matplotlib.legend.Legend at 0x523a668&gt;","categories":[],"tags":[],"keywords":[]},{"title":"第一篇文章","slug":"第一篇文章","date":"2018-08-21T01:15:30.000Z","updated":"2018-08-21T01:15:30.973Z","comments":true,"path":"2018/08/21/第一篇文章/","link":"","permalink":"http://yoursite.com/2018/08/21/第一篇文章/","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"Hello World","slug":"hello-world","date":"2018-08-20T09:53:30.449Z","updated":"2018-08-20T09:53:30.449Z","comments":true,"path":"2018/08/20/hello-world/","link":"","permalink":"http://yoursite.com/2018/08/20/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[],"keywords":[]},{"title":"第99篇文章","slug":"第99篇文章","date":"2018-07-21T01:15:30.000Z","updated":"2018-07-01T02:06:49.356Z","comments":true,"path":"2018/07/21/第99篇文章/","link":"","permalink":"http://yoursite.com/2018/07/21/第99篇文章/","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"保存模型","slug":"test_09_保存模型_save","date":"2018-01-01T01:15:30.000Z","updated":"2018-08-21T07:11:24.388Z","comments":true,"path":"2018/01/01/test_09_保存模型_save/","link":"","permalink":"http://yoursite.com/2018/01/01/test_09_保存模型_save/","excerpt":"","text":"12from sklearn import svmfrom sklearn import datasets 1234clf = svm.SVC()iris = datasets.load_iris()X, y = iris.data, iris.targetclf.fit(X,y) SVC(C=1.0, cache_size=200, class_weight=None, coef0=0.0, decision_function_shape=&apos;ovr&apos;, degree=3, gamma=&apos;auto&apos;, kernel=&apos;rbf&apos;, max_iter=-1, probability=False, random_state=None, shrinking=True, tol=0.001, verbose=False) 12345# method 1:pickleimport pickle# 保存模型with open('save/clf.pickle','wb') as f: pickle.dump(clf,f) 1234# 载入模型with open('save/clf.pickle','rb') as f: clf2 = pickle.load(f)clf2.predict(X[0:4]) 1234# method 2:joblib 第二种方法 from sklearn.externals import joblib# save 更加快，相对于原生的python的picklejoblib.dump(clf,'save/clf.pkl') 123# restore 载入模型clf3 = joblib.load('save/clf.pkl')clf3.predict(X[0:4]) array([0, 0, 0, 0])","categories":[{"name":"机器学习","slug":"机器学习","permalink":"http://yoursite.com/categories/机器学习/"}],"tags":[{"name":"机器学习","slug":"机器学习","permalink":"http://yoursite.com/tags/机器学习/"},{"name":"sklearn","slug":"sklearn","permalink":"http://yoursite.com/tags/sklearn/"},{"name":"保存模型","slug":"保存模型","permalink":"http://yoursite.com/tags/保存模型/"}],"keywords":[{"name":"机器学习","slug":"机器学习","permalink":"http://yoursite.com/categories/机器学习/"}]}]}